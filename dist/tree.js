(()=>{var t={868:t=>{t.exports={TreeNode:class{constructor(t){this.val=t,this.left=this.right=null}}}},707:(t,e,r)=>{const{getHeight:i}=r(826);t.exports=class{constructor(t){this.render=t}layout(t,e,r){return function t(r){return r?r.left||r.right?(r.width=t(r.left)+t(r.right)+e,r.width):(r.width=e,r.width):0}(t),function t(i,n,s,o=r){if(!i)return;let l;l=i.left?n+i.left.width+e:n+e,i.position=[l,o],t(i.left,n,l,o+r),t(i.right,l,s,o+r)}(t,0,t.width),t.width}async draw(t,e=40,r=40){let n=i(t),s=this.layout(t,e,r);n=n*r+r,this.render.initSize(s+e,n);const o=(t,r)=>{let[i,n]=t.position,[s,o]=r.position,[l,h]=((t,e,r,i)=>{let n=Math.sqrt((t-r)**2+(e-i)**2);return[(r-t)/n,(i-e)/n]})(i,n,s,o);this.render.renderLine(i+e/2*l,n+e/2*h,s-e/2*l,o-e/2*h)},l=t=>{let[r,i]=t.position;this.render.renderNode(r,i,e/2,t.val)};!function t(e){e&&(t(e.left),l(e),e.left&&o(e,e.left),e.right&&o(e,e.right),t(e.right))}(t)}}},734:t=>{t.exports=class{constructor(t){this.canvas=document.createElement("canvas"),this.container=t,this.ctx=this.canvas.getContext("2d")}initSize(t,e){this.canvas.width=t,this.canvas.height=e,this.container.appendChild(this.canvas)}renderNode(t,e,r,i){this.ctx.beginPath(),this.ctx.arc(t,e,r,0,2*Math.PI),this.ctx.stroke(),this.ctx.font="20px serif",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(i,t,e)}renderLine(t,e,r,i){this.ctx.moveTo(t,e),this.ctx.lineTo(r,i),this.ctx.stroke()}}},945:(t,e,r)=>{const i=r(734),n=r(890);t.exports={CanvasRender:i,SvgRender:n}},890:t=>{t.exports=class{constructor(t){this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.container=t}initSize(t,e){this.svg.setAttribute("width",t),this.svg.setAttribute("height",e),this.container.appendChild(this.svg)}renderNode(t,e,r,i){let n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx",t),n.setAttribute("cy",e),n.r.baseVal.value=r,n.setAttribute("stroke","black"),n.setAttribute("fill","none");let s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("x",t),s.setAttribute("y",e),s.setAttribute("text-anchor","middle"),s.setAttribute("alignment-baseline","middle"),s.style.fontSize=20,s.innerHTML=i,this.svg.appendChild(n),this.svg.appendChild(s)}renderLine(t,e,r,i){let n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d",`M ${t} ${e} L ${r} ${i} Z`),n.setAttribute("stroke","black"),this.svg.appendChild(n)}}},826:(t,e,r)=>{const{TreeNode:i}=r(868),n=t=>{if(!t)return"x";let e=n(t.left),r=n(t.right);return t.val+","+e+","+r},s=t=>t?Math.max(s(t.left),s(t.right))+1:0;t.exports={randomTree:function(t){let e=0;return function t(r){if(0===r)return null;let n=new i(e++),s=function(t){return Math.floor(Math.random()*(t+1))}(r-1);return n.left=t(s),n.right=t(r-s-1),n}(t)},fullBinaryTree:function(t){let e=0;return function t(r){if(0===r)return null;let n=new i(e);return++e,n.left=t((r-1)/2),n.right=t((r-1)/2),n}(Math.pow(2,t)-1)},serializer:n,deserialize:t=>function t(e){let r=e.shift();if("x"===r)return null;let n=new i(r);return n.left=t(e),n.right=t(e),n}(t.split(",")),getHeight:s}}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,r),s.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{const{TreeNode:t}=r(868),e=r(707),{CanvasRender:i,SvgRender:n}=r(945),{randomTree:s,fullBinaryTree:o,serializer:l,deserialize:h,getHeight:a}=r(826);r.g.tree={TreeNode:t,TreeDrawer:e,CanvasRender:i,SvgRender:n,randomTree:s,fullBinaryTree:o,serializer:l,deserialize:h,getHeight:a}})()})();